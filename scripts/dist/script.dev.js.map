{"version":3,"sources":["script.js"],"names":["tasksContainer","document","getElementById","addTaskBtn","inputText","taskList","addEventListener","addTask","event","key","value","alert","console","log","newTask","createElement","classList","add","draggable","push","currentDateLabel","innerText","getCurrentDate","appendChild","today","Date","year","getFullYear","month","getMonth","day","getDate","priorityDropdown","selectedPriority","priorityLabel","capitalizeFirstLetter","string","charAt","toUpperCase","slice","checkBox","type","checkMark","checked","textField","remove","readOnly","btnDiv","editBtn","focus","deleteBtn","removedTask","indexOf","splice","draggedTask","e","target","contains","dataTransfer","effectAllowed","preventDefault","afterElement","getDragAfterElement","clientY","querySelector","insertBefore","container","y","draggableElements","querySelectorAll","reduce","closest","child","box","getBoundingClientRect","offset","top","height","element","Number","NEGATIVE_INFINITY"],"mappings":"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","sourcesContent":["const tasksContainer = document.getElementById(\"tasks\");\nconst addTaskBtn = document.getElementById(\"add\");\nconst inputText = document.getElementById(\"task-input\");\n\nlet taskList = [];\n\n// Adding Task Function\naddTaskBtn.addEventListener(\"click\", addTask);\ninputText.addEventListener(\"keypress\", function (event) {\n  if (event.key === \"Enter\") {\n    addTask();\n  }\n});\n\nfunction addTask() {\n  if (inputText.value == \"\") {\n    alert(\"Kindly Enter a Task Name!!\");\n    return;\n  }\n  console.log(inputText.value);\n\n  //   Create div for the new added task\n  const newTask = document.createElement(\"div\");\n  newTask.classList.add(\"task\");\n  newTask.classList.add(\"draggable\");\n  newTask.draggable = true;\n  taskList.push(newTask);\n  console.log(taskList);\n\n  //Add Date Label\n  const currentDateLabel = document.createElement(\"span\");\n  currentDateLabel.classList.add(\"label\", \"date\");\n  currentDateLabel.innerText = \"Date: \" + getCurrentDate();\n  newTask.appendChild(currentDateLabel);\n\n  function getCurrentDate() {\n    const today = new Date();\n    const year = today.getFullYear();\n    const month = today.getMonth() + 1;\n    const day = today.getDate();\n    return `${year}-${month < 10 ? \"0\" + month : month}-${\n      day < 10 ? \"0\" + day : day\n    }`;\n  }\n\n  //Add Priority Label\n  const priorityDropdown = document.getElementById(\"priorityDropdown\");\n  const selectedPriority = priorityDropdown.value;\n  const priorityLabel = document.createElement(\"span\");\n  priorityLabel.classList.add(\"label\", \"priority\", selectedPriority);\n  priorityLabel.innerText =\n    capitalizeFirstLetter(selectedPriority) + \" Priority\";\n  console.log(selectedPriority);\n  newTask.appendChild(priorityLabel);\n\n  function capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  // Add checkbox to each task\n  const checkBox = document.createElement(\"input\");\n  checkBox.type = \"checkbox\";\n  newTask.appendChild(checkBox);\n  const checkMark = document.createElement(\"span\");\n  checkMark.classList.add(\"checkmark\");\n  newTask.appendChild(checkMark);\n\n  checkBox.addEventListener(\"change\", function () {\n    if (checkBox.checked == true) {\n      textField.classList.add(\"completed\");\n      //   textField.classList.remove(\"task-text\");\n    } else {\n      //   textField.classList.add(\"task-text\");\n      textField.classList.remove(\"completed\");\n    }\n  });\n\n  // Add task input\n  const textField = document.createElement(\"input\");\n  textField.type = \"text\";\n  textField.classList.add(\"task-text\");\n  textField.readOnly = true;\n  textField.value = inputText.value;\n  newTask.appendChild(textField);\n\n  //Blur task\n  textField.addEventListener(\"blur\", function () {\n    if (textField.value == \"\") {\n      newTask.remove();\n    }\n    textField.readOnly = true;\n  });\n\n  //Create div for holding buttons\n  const btnDiv = document.createElement(\"div\");\n  btnDiv.classList.add(\"action-btn\");\n  newTask.appendChild(btnDiv);\n\n  //Add edit button\n  const editBtn = document.createElement(\"button\");\n  editBtn.classList.add(\"edit\");\n  //   editBtn.innerHTML =\n  //     '<img src=\"../assets/imgs/edit-icon.svg\" alt=\"edit task\" />';\n  btnDiv.appendChild(editBtn);\n\n  editBtn.addEventListener(\"click\", function () {\n    textField.readOnly = false;\n    textField.focus();\n  });\n\n  //Add delete button\n  const deleteBtn = document.createElement(\"button\");\n  deleteBtn.classList.add(\"delete\");\n  //   deleteBtn.innerHTML =\n  //     '<img src=\"../assets/imgs/delete-icon.svg\" alt=\"delete task\" />';\n  btnDiv.appendChild(deleteBtn);\n\n  deleteBtn.addEventListener(\"click\", function () {\n    const removedTask = taskList.indexOf(newTask);\n    taskList.splice(removedTask, 1);\n    newTask.remove();\n    console.log(taskList);\n  });\n\n  //Drag and Drop Implementation\n  let draggedTask = null;\n\n  tasksContainer.addEventListener(\"dragstart\", (e) => {\n    if (e.target.classList.contains(\"task\")) {\n      draggedTask = e.target;\n      draggedTask.classList.add(\"dragging\");\n      e.dataTransfer.effectAllowed = \"move\";\n    }\n  });\n\n  tasksContainer.addEventListener(\"dragover\", (e) => {\n    e.preventDefault();\n    const afterElement = getDragAfterElement(tasksContainer, e.clientY);\n    const draggable = document.querySelector(\".task.dragging\");\n\n    if (draggable) {\n      if (afterElement == null) {\n        tasksContainer.appendChild(draggable);\n      } else {\n        tasksContainer.insertBefore(draggable, afterElement);\n      }\n    }\n  });\n\n  tasksContainer.addEventListener(\"dragend\", () => {\n    if (draggedTask) {\n      draggedTask.classList.remove(\"dragging\");\n      draggedTask = null;\n    }\n  });\n\n  function getDragAfterElement(container, y) {\n    const draggableElements = [\n      ...container.querySelectorAll(\".task:not(.dragging)\"),\n    ];\n\n    return draggableElements.reduce(\n      (closest, child) => {\n        const box = child.getBoundingClientRect();\n        const offset = y - box.top - box.height / 2;\n\n        if (offset < 0 && offset > closest.offset) {\n          return { offset, element: child };\n        } else {\n          return closest;\n        }\n      },\n      { offset: Number.NEGATIVE_INFINITY }\n    ).element;\n  }\n\n  tasksContainer.appendChild(newTask);\n  inputText.value = \"\";\n}\n"],"file":"script.dev.js"}